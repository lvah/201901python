<head>
<meta charset="utf-8"/>
<link href="https://blog.csdn.net/King15229085063/article/details/87380182" rel="canonical"/>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<meta content="webkit" name="renderer">
<meta content="webkit" name="force-rendering">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<meta content="always" name="referrer"/>
<meta content="no-siteapp" http-equiv="Cache-Control"><link href="#" media="handheld" rel="alternate"/>
<meta content="5a59773ab8077d4a62bf469ab966a63b_1497598848" name="shenma-site-verification"/>
<meta content='{"autorun":true,"install":true,"keyword":"socket应用场景 - King15229085063的博客"}' name="csdn-baidu-search"/>
<link href="https://csdnimg.cn/public/favicon.ico" rel="SHORTCUT ICON"/>
<title>socket应用场景 - King15229085063的博客 - CSDN博客</title>
<link href="https://csdnimg.cn/release/phoenix/template/css/detail-08b1e76084.min.css" rel="stylesheet"/>
<script type="application/ld+json">{"@context":"https:\/\/ziyuan.baidu.com\/contexts\/cambrian.jsonld","@id":"https:\/\/blog.csdn.net\/King15229085063\/article\/details\/87380182","appid":"1563894916825412","title":"socket\u5e94\u7528\u573a\u666f - King15229085063\u7684\u535a\u5ba2","images":["https:\/\/img-blog.csdnimg.cn\/20190215190157149.png?x-oss-process=image\/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tpbmcxNTIyOTA4NTA2Mw==,size_16,color_FFFFFF,t_70"],"pubDate":"2019-02-16T14:26:39"}</script>
<link href="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-9b39979775.min.css" rel="stylesheet"/>
<script type="text/javascript">
        var username = "King15229085063";
        var blog_address = "https://blog.csdn.net/king15229085063";
        var static_host = "https://csdnimg.cn/release/phoenix/";
        var currentUserName = "";
        var isShowAds = true;
        var isOwner = false;
        var loginUrl = "http://passport.csdn.net/account/login?from=https://blog.csdn.net/King15229085063/article/details/87380182"
        var blogUrl = "https://blog.csdn.net/";
        //页面皮肤样式
        var curSkin = "skin3-template";
        // 第四范式所需数据
        var articleTitles = "socket应用场景 - King15229085063的博客";
        var articleID = "87380182";
        
        var nickName = "Chung King";
        var isCorporate = false;
        var subDomainBlogUrl = "https://blog.csdn.net/"
    </script>
<script type="text/javascript">
        // Traffic Stats of the entire Web site By baidu
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6bcd52f51e9b3dce32bec4a3997715ac";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        // Traffic Stats of the entire Web site By baidu end
    </script>
<script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/rabbit/exposure-click/main-1.0.6.js"></script>
<script src="//g.csdnimg.cn/fixed-sidebar/1.1.3/fixed-sidebar.js" type="text/javascript"></script>
<!-- 新版上报 -->
<script src="//g.csdnimg.cn/track/1.2.4/track.js" type="text/javascript"></script>
<!-- 新版上报end -->
<link href="https://csdnimg.cn/public/sandalstrap/1.4/css/sandalstrap.min.css" rel="stylesheet"/>
<style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
</meta></meta></meta></head><div class="blog-content-box">
<div class="article-header-box">
<div class="article-header">
<div class="article-title-box">
<span class="article-type type-1 float-left">原</span> <h1 class="title-article">socket应用场景</h1>
</div>
<div class="article-info-box">
<div class="article-bar-top">
<span class="time">2019年02月15日 19:54:08</span>
<a class="follow-nickName" href="https://me.csdn.net/King15229085063" target="_blank">Chung King</a>
<span class="read-count">阅读数：11</span>
</div>
<div class="operating">
</div>
</div>
</div>
</div>
<article class="baidu_pl">
<div class="article_content clearfix csdn-tracking-statistics" data-dsm="post" data-mod="popu_307" data-pid="blog" id="article_content">
<div class="markdown_views prism-atom-one-dark" id="content_views">
<!-- flowchart 箭头图标 勿删 -->
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg"><path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>
<h4><a id="urllib_0"></a>模拟urllib实现网页内容的获取</h4>
<p>实现http客户端的程序， 获取百度页面http://www.baidu.com:80</p>
<pre><code>import socket
# 实例化socket对象; 默认参数指定为IPv4协议， 和TCP传输协议;
client = socket.socket()
# 连接服务器端
client.connect(('www.baidu.com', 80))
# 给百度服务器发送请求通过GET方法请求主页内容的请求， http协议的版本为1.1;
client.send(b'GET / HTTP/1.1\r\nHost:www.baidu.com\r\nConnection:close\r\n\r\n')
# 接收服务端返回的页面内容;
recvData = client.recv(1024*100)
# 解码为能够识别的字符串;
print(recvData.decode('utf-8'))
# 关闭客户端连接;
client.close()
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20190215190157149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tpbmcxNTIyOTA4NTA2Mw==,size_16,color_FFFFFF,t_70"/></p>
<h4><a id="Web_20"></a>实现简易的Web服务器端</h4>
<pre><code>import socket
import threading


def handler(clientObj):
    # 5. 接收客户端发送的请求
    recvData = clientObj.recv(1024)
    with open('hello.html', 'rb') as f:
        sendData = f.read()

    # 告诉浏览器http版本
    clientObj.send(b'HTTP/1.1 200 ok\r\n\r\n')
    clientObj.send(sendData)


def webServer():
    # 1. 创建socket对象
    server = socket.socket()
    # 2. 绑定端口和ip
    server.bind(('0.0.0.0', 8080))
    # 3. 监听是否有客户端连接
    server.listen(5)
    print("http服务正在启动8080........")


    while True:
        # 4. 接收客户端的连接
        clientObj, address = server.accept()
        t = threading.Thread(target=handler, args=(clientObj, ))
        t.start()

    server.close()
if __name__ == '__main__':
    webServer()
</code></pre>
</div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-7b4cdcb592.css" rel="stylesheet"/>
</div>
</article>
</div>